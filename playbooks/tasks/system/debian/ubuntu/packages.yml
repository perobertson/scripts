---
- name: Ubuntu - Install packages
  ansible.builtin.apt:
    pkg: "{{ item }}"
    state: present
  retries: 5
  delay: 5
  loop:
    - podman-docker  # emulate docker

- name: Ubuntu >=18 - Install packages
  ansible.builtin.apt:
    pkg: "{{ item }}"
    state: present
  retries: 5
  delay: 5
  when: ansible_distribution_major_version | int >= 18
  loop:
    - flameshot
    - libasound2
    - npm

- name: Ubuntu >=20 - Install packages
  ansible.builtin.apt:
    pkg: "{{ item }}"
    state: present
  retries: 5
  delay: 5
  when: ansible_distribution_major_version | int >= 20
  loop:
    - python3-cairo
    - python3-launchpadlib
    - python3-testresources

- name: Ubuntu >=22 - Install packages
  ansible.builtin.apt:
    pkg: "{{ item }}"
    state: present
  retries: 5
  delay: 5
  when: ansible_distribution_major_version | int >= 22
  loop:
    - podman
